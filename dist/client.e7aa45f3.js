webpackJsonp([0,2],[,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=("function"==typeof Symbol&&Symbol.iterator,function(t,e){return Object.prototype.hasOwnProperty.call(t,prop)})},function(t,e,n){var r=n(1)(n(44),n(61),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(45),n(59),null,null);t.exports=r.exports},function(t,e,n){"use strict";var r=n(4),o=n(2),i=n(37),c=n(35),a=n(36);r.a.use(o.c);var u={loading:!1,connected:!1,forms:[],settings:{enhancedDelivery:!1,generatePDFs:!1},layouts:[{name:"FOFOF"}],account:{plan:String,id:Number,apiKeys:{public:String,secret:String,token:String}}},s=function(t){t.subscribe(function(e,n){switch(e.type){case"apiKeys":!n.connected&&n.account.apiKeys.token&&n.account.apiKeys.public&&(t.dispatch("testConnection"),t.dispatch("getLayouts"));break;case"connected":n.connected&&t.dispatch("getLayouts")}})},l=new o.c.Store({strict:!1,plugins:[s],modules:{},state:u,getters:a.a,mutations:i.a,actions:c.a});e.a=l},,function(t,e,n){var r=n(1)(n(48),n(60),null,null);t.exports=r.exports},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(49),o=(n.n(r),n(2));e.a={render:function(t){return t("div",{attrs:{id:"cf-pro-account"}},[t("ul",null,[t("li",null,["Public Key ",this.publicKey]),t("li",null,["Secret Key ",this.secretKey]),t("li",null,["Token ",this.token])])])},computed:n.i(o.a)({token:function(t){return t.account.apiKeys.token},publicKey:function(t){return t.account.apiKeys.public},secretKey:function(t){return t.account.apiKeys.secret}})}},function(t,e,n){"use strict";var r=n(38),o=n(39);n.d(e,"a",function(){return c});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c={getAccount:function(t){return new Promise(function(e,n){r.a.get().then(function(n){var r;if("string"==typeof n.data){var o=JSON.parse(n.data);if("object"!==(void 0===o?"undefined":i(o)))throw new Exception;r=o}else r=n.data;t.commit("forms",r.forms),t.commit("apiKeys",r.apiKeys),t.commit("accountId",r.account_id),t.commit("plan",r.plan),e(n)},function(t){n(t)})})},saveAccount:function(t){var e=(t.commit,t.state);return r.a.post("",{accountId:e.account.id,apiKey:e.account.apiKeys.public,apiSecret:e.account.apiKeys.secret,enhancedDelivery:e.settings.enhancedDelivery,plan:e.account.plan}).then(function(t){console.log(t)})},testConnection:function(t){var e=t.commit,i=t.state;return new Promise(function(t,c){if(i.account.apiKeys.token)return r.b.get(n.i(o.a)({public:i.account.apiKeys.public,token:i.account.apiKeys.token},"/account/verify")).then(function(n){i.account.plan=n.plan,i.account.id=n.id,i.connected=!0,e("connected",!0),t(n)},function(t){c(t)});c("Not Connected")})},getLayouts:function(t){var e=t.commit,i=t.state;if(i.connected)return r.b.get(n.i(o.a)({simple:!0,public:i.account.apiKeys.public,token:i.account.apiKeys.token},"/layouts/list")).then(function(t){e("layouts",t.data)},function(t){console.log(t)})}}},function(t,e,n){"use strict";var r=n(10);n.d(e,"a",function(){return o});var o={publicKey:function(t){return t.account.apiKey.public},secretKey:function(t){return t.account.apiKey.secret},apiKeys:function(t){return t.account.apiKeys},nom:function(t){return"nom"},getSetting:function(t){return function(e,o){return n.i(r.a)(t.settings,e)?t.settings[e]:o}},getFormsById:function(t,e){return function(e){return t.forms.find(function(t){return t.form_id===e})}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={publicKey:function(t,e){t.account.apiKeys.public=e},secretKey:function(t,e){t.account.apiKeys.secret=e},apiKeys:function(t,e){t.account.apiKeys.public=e.public,t.account.apiKeys.secret=e.secret,t.account.apiKeys.token=e.token},accountId:function(t,e){t.account.id=e},plan:function(t,e){t.account.plan=e},loading:function(t){t.loading=!t.loading},forms:function(t,e){t.forms=e},connected:function(t,e){t.connected=e},layouts:function(t,e){t.layouts=e}}},function(t,e,n){"use strict";var r=n(16),o=n.n(r),i=n(40);n.d(e,"a",function(){return c}),n.d(e,"b",function(){return a});var c=o.a.create({baseURL:i.a.localApiURL,timeout:3e3,headers:{"X-WP-Nonce":i.a.localApiNonce}}),a=o.a.create({baseURL:i.a.appURL,timeout:3e3})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){var n="";for(var r in t)""!=n&&(n+="&"),n+=r+"="+t[r];return e+"?"+n}},function(t,e,n){"use strict";e.a={localApiURL:CF_PRO_ADMIN.api.cf.url,localApiNonce:CF_PRO_ADMIN.api.cf.nonce,appURL:CF_PRO_ADMIN.api.cfPro.url}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(54),i=n.n(o);e.default={components:{"text-input":i.a},computed:n.i(r.a)({account:function(t){return t.account},publicKey:function(t){return t.account.apiKeys.public},secretKey:function(t){return t.account.apiKeys.secret}}),methods:{save:function(){this.$store.dispatch("saveAccount")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n.n(r),i=n(11),c=n.n(i);e.default={components:{_label:o.a,_input:c.a},props:{idAttr:{type:String,require:!0},value:{type:String,required:!0},setting:{type:String,required:!0},label:{type:String,required:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n.n(r),i=n(11),c=n.n(i);e.default={components:{_label:o.a,_input:c.a},props:{idAttr:{type:String,require:!0},value:{type:String,required:!0},setting:{type:String,required:!0},label:{type:String,required:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{idAttr:{type:String,require:!0},value:{type:String,required:!0},setting:{type:String,required:!0},type:{type:String,default:"text"}},methods:{handle:function(){this.$store.commit(this.setting,this.value)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={idAttr:{type:String,require:!0},label:{type:String,required:!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(2),n(53)),o=n.n(r);n(10);e.default={components:{checkbox:o.a},props:["form","layouts"],computed:{layoutIdAttr:function(){return"cf-pro-layout-"+this.form.form_id},pdfLayoutIdAttr:function(){return"cf-pro-layout-pdf-"+this.form.form_id},attachPDFIdAttr:function(){return"cf-pro-layout-"+this.form.form_id},linkPDFIdAttr:function(){return"cf-pro-layout-"+this.form.form_id}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(55),o=n.n(r),i=n(2);e.default={components:{"form-setting":o.a},computed:n.i(i.a)({forms:function(t){return t.forms},layouts:function(t){return t.layouts}}),methods:Object.assign({},n.i(i.b)(["getLayouts"])),beforeMount:function(){this.getLayouts()},data:function(){return{editForm:0,form:{}}},watch:{editForm:function(t){this.form=this.$store.getters.getFormsById(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(34),i=n(52),c=n.n(i),a=n(56),u=n.n(a);e.default={components:{"account-display":o.a,"account-edit":c.a,"form-settings":u.a},computed:n.i(r.a)({loading:function(t){return t.loading},connected:function(t){return t.connected}}),beforeMount:function(){this.$store.dispatch("getAccount")},methods:{save:function(){this.$store.dispatch("saveAccount")}}}},function(t,e){},,,function(t,e,n){var r=n(1)(n(41),n(62),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(42),n(64),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(43),n(58),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(46),n(57),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(47),n(63),null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.layoutIdAttr}},[t._v("\n\t\t\tEmail Layout\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.layout,expression:"form.layout"}],attrs:{id:t.layoutIdAttr},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.form.layout=e.target.multiple?n:n[0]}}},[n("option"),t._v(" "),t._l(t.layouts,function(e){return n("option",{domProps:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})],2)])]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.pdfLayoutIdAttr}},[t._v("\n\t\t\tPDF Layout\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.pdf_layout,expression:"form.pdf_layout"}],attrs:{id:t.pdfLayoutIdAttr},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.form.pdf_layout=e.target.multiple?n:n[0]}}},[n("option"),t._v(" "),t._l(t.layouts,function(e){return n("option",{domProps:{value:e.id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")])})],2)])]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.attachPDFIdAttr}},[t._v("\n\t\t\tAttach PDF To Main Mailer\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.attach_pdf,expression:"form.attach_pdf"}],attrs:{type:"checkbox",id:t.attachPDFIdAttr},domProps:{checked:Array.isArray(t.form.attach_pdf)?t._i(t.form.attach_pdf,null)>-1:t.form.attach_pdf},on:{__c:function(e){var n=t.form.attach_pdf,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=null,c=t._i(n,i);r.checked?c<0&&(t.form.attach_pdf=n.concat([i])):c>-1&&(t.form.attach_pdf=n.slice(0,c).concat(n.slice(c+1)))}else t.form.attach_pdf=o}}})])]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.attachPDFIdAttr}},[t._v("\n\t\t\tAdd PDF Link\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pdf_link,expression:"form.pdf_link"}],attrs:{type:"checkbox",id:t.attachPDFIdAttr},domProps:{checked:Array.isArray(t.form.pdf_link)?t._i(t.form.pdf_link,null)>-1:t.form.pdf_link},on:{__c:function(e){var n=t.form.pdf_link,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=null,c=t._i(n,i);r.checked?c<0&&(t.form.pdf_link=n.concat([i])):c>-1&&(t.form.pdf_link=n.slice(0,c).concat(n.slice(c+1)))}else t.form.pdf_link=o}}})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.idAttr},domProps:{innerHTML:t._s(t.label)}}),t._v(" "),n("_input",{attrs:{idAttr:t.idAttr,value:t.value,setting:t.setting}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("label",{attrs:{for:t.idAttr},domProps:{innerHTML:t._s(t.label)}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cf-pro-settings"},[n("div",{staticStyle:{border:"1px solid red","min-height":"10px"}},[t._v("\n\t\t"+t._s(t.connected)+"\n\t")]),t._v(" "),t.loading?n("div",[t._v("Spinner")]):t._e(),t._v(" "),t.connected?n("div",[t._v("Connected")]):t._e(),t._v(" "),n("account-display"),t._v(" "),n("account-edit"),t._v(" "),t.connected?n("div",[n("h3",[t._v("Forms")]),t._v(" "),n("form-settings")],1):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:t.type,id:t.idAttr},domProps:{value:t.value},on:{keyup:function(e){t.handle()},change:function(e){t.handle()},input:function(e){e.target.composing||(t.value=e.target.value)}}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cf-pro-account-edit"}},[n("text-input",{attrs:{value:t.publicKey,setting:"publicKey",label:"Public Key",idAttr:"cf-pro-api-public"}}),t._v(" "),n("text-input",{attrs:{value:t.secretKey,setting:"secretKey",label:"Secret Key",idAttr:"cf-pro-api-secret"}}),t._v(" "),n("button",{on:{click:t.save}},[t._v("Save")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.cf-t.pro-t.form-t.setting-t.chooser}},[t._v("\n\t\t\t\tChoose Form\n\t\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.editForm,expression:"editForm"}],attrs:{id:t.cf-t.pro-t.form-t.setting-t.chooser},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.editForm=e.target.multiple?n:n[0]}}},[n("option"),t._v(" "),t._l(t.forms,function(e){return n("option",{domProps:{value:e.form_id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")])})],2)])])]),t._v(" "),t.editForm?n("div",[n("form-setting",{attrs:{form:t.form,layouts:t.layouts}})],1):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.idAttr},domProps:{innerHTML:t._s(t.label)}}),t._v(" "),n("_input",{attrs:{type:t.checkbox,idAttr:t.idAttr,value:t.value,setting:t.setting}})],1)},staticRenderFns:[]}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(13),i=n(15),c=n.n(i),a=n(14);n.n(a);n.d(e,"store",function(){return o.a}),n.d(e,"app",function(){return u});var u=new r.a({el:"#app",store:o.a,components:{settings:c.a},render:function(t){return t("div",{attrs:{id:"cf-pro-settings"}},[t("settings")])}})}],[66]);
//# sourceMappingURL=client.e7aa45f3.js.map