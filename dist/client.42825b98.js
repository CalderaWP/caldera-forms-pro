webpackJsonp([0,2],[,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=("function"==typeof Symbol&&Symbol.iterator,function(t,e){return Object.prototype.hasOwnProperty.call(t,prop)})},function(t,e,n){var r=n(1)(n(44),n(64),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(45),n(62),null,null);t.exports=r.exports},function(t,e,n){"use strict";var r=n(4),a=n(2),o=n(37),i=n(35),c=n(36);r.a.use(a.d);var s={loading:!1,connected:!1,forms:[],settings:{enhancedDelivery:!1,generatePDFs:!1},layouts:[{name:"FOFOF"}],account:{plan:String,id:Number,apiKeys:{public:String,secret:String,token:String}}},u=function(t){t.subscribe(function(e,n){switch(e.type){case"apiKeys":!n.connected&&n.account.apiKeys.token&&n.account.apiKeys.public&&(t.dispatch("testConnection"),t.dispatch("getLayouts"));break;case"connected":n.connected&&t.dispatch("getLayouts")}})},l=new a.d.Store({strict:!1,plugins:[u],modules:{},state:s,getters:c.a,mutations:o.a,actions:i.a});e.a=l},function(t,e,n){n(51);var r=n(1)(n(49),n(63),null,null);t.exports=r.exports},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(50),a=(n.n(r),n(2));e.a={render:function(t){return t("div",{attrs:{id:"cf-pro-account"}},[t("ul",null,[t("li",null,["Public Key ",this.publicKey]),t("li",null,["Secret Key ",this.secretKey]),t("li",null,["Token ",this.token])])])},computed:n.i(a.a)({token:function(t){return t.account.apiKeys.token},publicKey:function(t){return t.account.apiKeys.public},secretKey:function(t){return t.account.apiKeys.secret}})}},function(t,e,n){"use strict";var r=n(38),a=n(39);n.d(e,"a",function(){return i});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={getAccount:function(t){return new Promise(function(e,n){r.a.get().then(function(n){var r;if("string"==typeof n.data){var a=JSON.parse(n.data);if("object"!==(void 0===a?"undefined":o(a)))throw new Exception;r=a}else r=n.data;t.commit("forms",r.forms),t.commit("apiKeys",r.apiKeys),t.commit("accountId",r.account_id),t.commit("plan",r.plan),e(n)},function(t){n(t)})})},saveAccount:function(t){var e=(t.commit,t.state);return r.a.post("",{accountId:e.account.id,apiKey:e.account.apiKeys.public,apiSecret:e.account.apiKeys.secret,enhancedDelivery:e.settings.enhancedDelivery,plan:e.account.plan}).then(function(t){console.log(t)})},testConnection:function(t){var e=t.commit,o=t.state;return new Promise(function(t,i){if(o.account.apiKeys.token)return r.b.get(n.i(a.a)({public:o.account.apiKeys.public,token:o.account.apiKeys.token},"/account/verify")).then(function(n){o.account.plan=n.plan,o.account.id=n.id,o.connected=!0,e("connected",!0),t(n)},function(t){i(t)});i("Not Connected")})},getLayouts:function(t){var e=t.commit,o=t.state;if(o.connected)return r.b.get(n.i(a.a)({simple:!0,public:o.account.apiKeys.public,token:o.account.apiKeys.token},"/layouts/list")).then(function(t){e("layouts",t.data)},function(t){console.log(t)})}}},function(t,e,n){"use strict";var r=n(10);n.d(e,"a",function(){return a});var a={publicKey:function(t){return t.account.apiKey.public},secretKey:function(t){return t.account.apiKey.secret},apiKeys:function(t){return t.account.apiKeys},nom:function(t){return"nom"},getSetting:function(t){return function(e,a){return n.i(r.a)(t.settings,e)?t.settings[e]:a}},getFormsById:function(t,e){return function(e){return t.forms.find(function(t){return t.form_id===e})}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={publicKey:function(t,e){t.account.apiKeys.public=e},secretKey:function(t,e){t.account.apiKeys.secret=e},apiKeys:function(t,e){t.account.apiKeys.public=e.public,t.account.apiKeys.secret=e.secret,t.account.apiKeys.token=e.token},accountId:function(t,e){t.account.id=e},plan:function(t,e){t.account.plan=e},loading:function(t){t.loading=!t.loading},forms:function(t,e){t.forms=e},connected:function(t,e){t.connected=e},layouts:function(t,e){t.layouts=e},form:function(t,e){var n=t.forms.findIndex(function(t){return t.form_id===e.form_id});-1<n&&(t.forms[n]=e)},enhancedDelivery:function(t,e){t.settings.enhancedDelivery=e}}},function(t,e,n){"use strict";var r=n(16),a=n.n(r),o=n(40);n.d(e,"a",function(){return i}),n.d(e,"b",function(){return c});var i=a.a.create({baseURL:o.a.localApiURL,timeout:3e3,headers:{"X-WP-Nonce":o.a.localApiNonce}}),c=a.a.create({baseURL:o.a.appURL,timeout:3e3})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){var n="";for(var r in t)""!=n&&(n+="&"),n+=r+"="+t[r];return e+"?"+n}},function(t,e,n){"use strict";e.a={localApiURL:CF_PRO_ADMIN.api.cf.url,localApiNonce:CF_PRO_ADMIN.api.cf.nonce,appURL:CF_PRO_ADMIN.api.cfPro.url}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(56),o=n.n(a);e.default={components:{"text-input":o.a},computed:n.i(r.a)({account:function(t){return t.account},publicKey:function(t){return t.account.apiKeys.public},secretKey:function(t){return t.account.apiKeys.secret}}),watch:{publicKey:function(){this.save()},secretKey:function(){this.save()}},methods:{save:function(){this.$store.dispatch("saveAccount")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),a=n.n(r),o=n(11),i=n.n(o);e.default={components:{_label:a.a,_input:i.a},props:{idAttr:{type:String,require:!0},value:{type:String,required:!0},setting:{type:String,required:!0},label:{type:String,required:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),a=n.n(r),o=n(11),i=n.n(o);e.default={components:{_label:a.a,_input:i.a},props:{idAttr:{type:String,require:!0},value:{type:String,required:!0},setting:{type:String,required:!0},label:{type:String,required:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{idAttr:{type:String,require:!0},value:{type:String,required:!0},setting:{type:String,required:!0},type:{type:String,default:"text"}},methods:{handle:function(){this.$store.commit(this.setting,this.value)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={idAttr:{type:String,require:!0},label:{type:String,required:!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(2),n(55)),a=n.n(r);n(10);e.default={components:{checkbox:a.a},props:["form","layouts"],computed:{layoutIdAttr:function(){return"cf-pro-layout-"+this.form.form_id},pdfLayoutIdAttr:function(){return"cf-pro-layout-pdf-"+this.form.form_id},attachPDFIdAttr:function(){return"cf-pro-layout-"+this.form.form_id},linkPDFIdAttr:function(){return"cf-pro-layout-"+this.form.form_id}},methods:{commitChange:function(t,e){this.form[t]=e,this.$store.commit("form",this.form)},changeLayout:function(t){this.commitChange(t.target.value,"layout")},changePDFLayout:function(t){this.commitChange(t.target.value,"pdf_layout")},changeAttachPDF:function(t){this.commitChange(t.target.value,"attach_pdf")},changeLinkPDF:function(t){this.commitChange(t.target.value,"pdf_link")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),a=n.n(r),o=n(2);e.default={components:{"form-setting":a.a},computed:n.i(o.a)({forms:function(t){return t.forms},layouts:function(t){return t.layouts}}),methods:Object.assign({},n.i(o.c)(["getLayouts"])),beforeMount:function(){this.getLayouts()},data:function(){return{editForm:0,form:{}}},watch:{editForm:function(t){this.form=this.$store.getters.getFormsById(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.default={computed:n.i(r.b)({enhancedDelivery:function(t){return t.settings.enhancedDelivery}}),methods:{changed:function(t){this.$store.commit("enhancedDelivery",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(34),o=n(54),i=n.n(o),c=n(58),s=n.n(c),u=n(59),l=n.n(u);e.default={components:{"account-display":a.a,"account-edit":i.a,"form-settings":s.a,delivery:l.a},computed:n.i(r.a)({loading:function(t){return t.loading},connected:function(t){return t.connected}}),beforeMount:function(){[].forEach.call(document.querySelectorAll(".update-nag"),function(t){t.parentNode.removeChild(t)}),this.$store.dispatch("getAccount")},methods:{save:function(){this.$store.dispatch("saveAccount")}}}},function(t,e){},function(t,e){},,,function(t,e,n){var r=n(1)(n(41),n(65),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(42),n(68),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(43),n(61),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(46),n(60),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(47),n(67),null,null);t.exports=r.exports},function(t,e,n){var r=n(1)(n(48),n(66),null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.layoutIdAttr}},[t._v("\n\t\t\tEmail Layout\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.layout,expression:"form.layout"}],attrs:{id:t.layoutIdAttr},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.form.layout=e.target.multiple?n:n[0]},t.changeLayout]}},[n("option"),t._v(" "),t._l(t.layouts,function(e){return n("option",{domProps:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})],2)])]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.pdfLayoutIdAttr}},[t._v("\n\t\t\tPDF Layout\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.pdf_layout,expression:"form.pdf_layout"}],attrs:{id:t.pdfLayoutIdAttr},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.form.pdf_layout=e.target.multiple?n:n[0]},t.changePDFLayout]}},[n("option"),t._v(" "),t._l(t.layouts,function(e){return n("option",{domProps:{value:e.id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")])})],2)])]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.attachPDFIdAttr}},[t._v("\n\t\t\tAttach PDF To Main Mailer\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.attach_pdf,expression:"form.attach_pdf"}],attrs:{type:"checkbox",id:t.attachPDFIdAttr},domProps:{checked:Array.isArray(t.form.attach_pdf)?t._i(t.form.attach_pdf,null)>-1:t.form.attach_pdf},on:{change:t.changeAttachPDF,__c:function(e){var n=t.form.attach_pdf,r=e.target,a=!!r.checked;if(Array.isArray(n)){var o=null,i=t._i(n,o);r.checked?i<0&&(t.form.attach_pdf=n.concat([o])):i>-1&&(t.form.attach_pdf=n.slice(0,i).concat(n.slice(i+1)))}else t.form.attach_pdf=a}}})])]),t._v(" "),n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.attachPDFIdAttr}},[t._v("\n\t\t\tAdd PDF Link\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pdf_link,expression:"form.pdf_link"}],attrs:{type:"checkbox",id:t.attachPDFIdAttr},domProps:{checked:Array.isArray(t.form.pdf_link)?t._i(t.form.pdf_link,null)>-1:t.form.pdf_link},on:{change:t.changeLinkPDF,__c:function(e){var n=t.form.pdf_link,r=e.target,a=!!r.checked;if(Array.isArray(n)){var o=null,i=t._i(n,o);r.checked?i<0&&(t.form.pdf_link=n.concat([o])):i>-1&&(t.form.pdf_link=n.slice(0,i).concat(n.slice(i+1)))}else t.form.pdf_link=a}}})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.idAttr},domProps:{innerHTML:t._s(t.label)}}),t._v(" "),n("_input",{attrs:{idAttr:t.idAttr,value:t.value,setting:t.setting}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("label",{attrs:{for:t.idAttr},domProps:{innerHTML:t._s(t.label)}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cf-pro-message-settings"}},[n("div",{attrs:{id:"cf-pro-message-setting-inner"}},[n("div",{staticClass:"caldera-editor-header"},[n("ul",{staticClass:"caldera-editor-header-nav"},[t._m(0),t._v(" "),t.connected?n("li",{staticClass:"status good"},[t._v("\n\t\t\t\t\tConnected\n\t\t\t\t")]):t._e(),t._v(" "),t.connected?t._e():n("li",{staticClass:"status bad"},[t._v("\n\t\t\t\t\tNot Connected\n\t\t\t\t")])])]),t._v(" "),n("div",{staticClass:"cf-pro-settings"},[n("div",[n("tabs",{attrs:{options:{useUrlFragment:!1}}},[n("tab",{attrs:{name:"Account"}},[n("account-edit")],1),t._v(" "),n("tab",{attrs:{name:"Form Settings"}},[t.connected?n("div",[n("form-settings")],1):n("div",[t._v("\n\t\t\t\t\t\t\tYou must connected to Caldera Forms Pro First\n\t\t\t\t\t\t")])]),t._v(" "),n("tab",{attrs:{name:"Settings"}},[n("delivery")],1)],1)],1)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"caldera-editor-logo"},[n("span",{staticClass:"caldera-forms-name"},[t._v("\n\t\t\t\t\t\tCaldera Forms Pro\n\t\t\t\t\t")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:t.type,id:t.idAttr},domProps:{value:t.value},on:{keyup:function(e){t.handle()},change:function(e){t.handle()},input:function(e){e.target.composing||(t.value=e.target.value)}}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cf-pro-account-edit"}},[n("text-input",{attrs:{value:t.publicKey,setting:"publicKey",label:"Public Key",idAttr:"cf-pro-api-public"}}),t._v(" "),n("text-input",{attrs:{value:t.secretKey,setting:"secretKey",label:"Secret Key",idAttr:"cf-pro-api-secret"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.cf-t.pro-t.enhanced-t.delivery}},[t._v("\n\t\tEnable Enhanced Delivery\n\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.enhancedDelivery,expression:"enhancedDelivery"}],attrs:{type:"checkbox",id:"cf-pro-enhanced-delivery","aria-describedby":"cf-pro-enhanced-delivery-desc"},domProps:{checked:Array.isArray(t.enhancedDelivery)?t._i(t.enhancedDelivery,null)>-1:t.enhancedDelivery},on:{change:t.changed,__c:function(e){var n=t.enhancedDelivery,r=e.target,a=!!r.checked;if(Array.isArray(n)){var o=null,i=t._i(n,o);r.checked?i<0&&(t.enhancedDelivery=n.concat([o])):i>-1&&(t.enhancedDelivery=n.slice(0,i).concat(n.slice(i+1)))}else t.enhancedDelivery=a}}}),t._v(" "),n("div",{staticClass:"description",attrs:{id:"cf-pro-enhanced-delivery-desc"}},[n("p",[t._v("If enabled, messages are sent via Caldera Forms Pro Servers")]),t._v(" "),t.enhancedDelivery?n("ul",[n("li",[t._v("Forms must use database entry tracking.")]),t._v(" "),n("li",[t._v("From Email setting will be used as the reply-to.")])]):t._e()])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.cf-t.pro-t.form-t.setting-t.chooser}},[t._v("\n\t\t\tChoose Form\n\t\t")]),t._v(" "),n("div",{staticClass:"caldera-config-field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.editForm,expression:"editForm"}],attrs:{id:t.cf-t.pro-t.form-t.setting-t.chooser},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.editForm=e.target.multiple?n:n[0]}}},[n("option"),t._v(" "),t._l(t.forms,function(e){return n("option",{domProps:{value:e.form_id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})],2)])]),t._v(" "),t.editForm?n("div",[n("form-setting",{attrs:{form:t.form,layouts:t.layouts}})],1):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"caldera-config-group"},[n("label",{attrs:{for:t.idAttr},domProps:{innerHTML:t._s(t.label)}}),t._v(" "),n("_input",{attrs:{type:t.checkbox,idAttr:t.idAttr,value:t.value,setting:t.setting}})],1)},staticRenderFns:[]}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),a=n(13),o=n(14),i=n.n(o),c=n(15);n.n(c);n.d(e,"store",function(){return a.a}),n.d(e,"app",function(){return s}),r.a.component("tabs",c.Tabs),r.a.component("tab",c.Tab);var s=new r.a({el:"#app",store:a.a,components:{settings:i.a},render:function(t){return t("div",{attrs:{id:"cf-pro-settings"}},[t("settings")])}})}],[71]);
//# sourceMappingURL=client.42825b98.js.map